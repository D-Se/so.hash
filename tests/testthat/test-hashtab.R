test_that("first access returns null object", {
	h <- unserialize(
		as.raw(
			c(0x41, 0x0a, 0x33, 0x0a, 0x32, 0x36, 0x32, 0x36, 0x35, 
				0x36, 0x0a, 0x31, 0x39, 0x37, 0x38, 0x38, 0x38, 0x0a, 0x35, 0x0a, 
				0x55, 0x54, 0x46, 0x2d, 0x38, 0x0a, 0x37, 0x38, 0x37, 0x0a, 0x31, 
				0x0a, 0x32, 0x32, 0x0a, 0x31, 0x39, 0x0a, 0x38, 0x0a, 0x32, 0x35, 
				0x34, 0x0a, 0x32, 0x35, 0x34, 0x0a, 0x32, 0x35, 0x34, 0x0a, 0x32, 
				0x35, 0x34, 0x0a, 0x32, 0x35, 0x34, 0x0a, 0x32, 0x35, 0x34, 0x0a, 
				0x31, 0x30, 0x32, 0x36, 0x0a, 0x31, 0x36, 0x0a, 0x31, 0x0a, 0x32, 
				0x36, 0x32, 0x31, 0x35, 0x33, 0x0a, 0x31, 0x0a, 0x78, 0x0a, 0x31, 
				0x34, 0x0a, 0x31, 0x0a, 0x31, 0x0a, 0x32, 0x35, 0x34, 0x0a, 0x32, 
				0x35, 0x34, 0x0a, 0x31, 0x33, 0x0a, 0x33, 0x0a, 0x31, 0x0a, 0x30, 
				0x0a, 0x33, 0x0a, 0x31, 0x30, 0x32, 0x36, 0x0a, 0x31, 0x0a, 0x32, 
				0x36, 0x32, 0x31, 0x35, 0x33, 0x0a, 0x35, 0x0a, 0x63, 0x6c, 0x61, 
				0x73, 0x73, 0x0a, 0x31, 0x36, 0x0a, 0x31, 0x0a, 0x32, 0x36, 0x32, 
				0x31, 0x35, 0x33, 0x0a, 0x37, 0x0a, 0x68, 0x61, 0x73, 0x68, 0x74, 
				0x61, 0x62, 0x0a, 0x32, 0x35, 0x34, 0x0a))
	)
	expect_equal(gethash(h, "x"), NULL)
	expect_equal(gethash(h, "x"), 1)
})

